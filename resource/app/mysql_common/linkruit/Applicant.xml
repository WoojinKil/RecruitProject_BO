<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="Applicant">
	<select id="selectApplicantList" parameterType="ParameterMap" resultType="ApplicantDto">
		select AP.applicantNo
			  ,M.memberName
			  ,M.memberBirth
			  ,AP.applicantId
			  ,AP.applyNo
			  ,AP.applicantMillitary
			  ,AP.applicantVeteran
			  ,AP.applicantDisability
			  ,AP.applicantJobProtect
			  ,AP.applyDate
			  ,AP.finalApplyChecked
			  
			
		
		
		from ta_recruit_applicant AP
			 ,ta_recruit_notice N
			 ,ta_recruit_member M
		where 1=1
		and AP.recruitNo=N.recruitNO
		and AP.recruitNo=#{RECRUITNO}
		and AP.applicantId = M.memberId
		
		<if test="@kr.co.ta9.pandora3.common.util.TextUtil@isNotEmpty(RECRUITNO)">AND AP.RECRUITNO        = #{RECRUITNO         ,jdbcType=NUMERIC} </if>
	
	
	
	</select>
	
	
	
	<insert id = "insert" parameterType="BaseApplicantDto">
		insert into ta_recruit_applicant
		(
			  RECRUITNO
			, APPLICANTNO
			, APPLICANTID
			, FINALAPPLYCHECKED
			, APPLYNO
			, APPLICANTMILLITARY
			, APPLICANTVETERAN
			, APPLICANTDISABILITY
			, APPLICANTJOBPROTECT
			, APPLYDATE
		
		
		)
		values
		(
			  #{recruitno}
			, #{applicantno}
			, #{applicantid}
			, #{finalapplychecked}
			, #{applyno}
			, #{applicantmillitary}
			, #{applicantveteran}
			, #{applicantdisability}
			, #{applicantjobprotect}
			, SYSDATE()
		
		
		)
		
	
	
	</insert>
	
	
	<update id="update" parameterType="BaseApplicantDto">
		update ta_recruit_applicant
		set   UPDATEDATE = SYSDATE()

			<if test="@kr.co.ta9.pandora3.common.util.TextUtil@isNotEmpty(applyno)">
			, APPLYNO = #{applyno, jdbcType=VARCHAR}
			</if>
			<if test="@kr.co.ta9.pandora3.common.util.TextUtil@isNotEmpty(recruitno)">
			, RECRUITNO = #{recruitno, jdbcType=VARCHAR}
			</if>
			<if test="@kr.co.ta9.pandora3.common.util.TextUtil@isNotEmpty(partno)">
			, APPLICANTVETERAN = #{applicantveteran, jdbcType=VARCHAR}
			</if>
			<if test="@kr.co.ta9.pandora3.common.util.TextUtil@isNotEmpty(applicantdisability)">
			, APPLICANTDISABILITY = #{applicantdisability, jdbcType=VARCHAR}
			</if>
			<if test="@kr.co.ta9.pandora3.common.util.TextUtil@isNotEmpty(applicantjobprotect)">
			, APPLICANTJOBPROTECT = #{applicantjobprotect, jdbcType=VARCHAR}
			</if>
		WHERE APPLICANTNO = #{applicantno}
			  
	
	</update>
	

	<delete id="delete" parameterType = "BaseApplicantDto">
	
		DELETE FROM TA_RECRUIT_APPLICANT
		WHERE APPLICANTNO = #{APPLICANTNO, JDBCTYPE= NUMERIC}
	      AND RECRUITNO = #{APPLICANTNO, JDBCTYPE= NUMERIC}
	</delete>





</mapper>